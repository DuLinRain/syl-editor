# 项目搭建

## 一、项目介绍

### 1.1 实验内容

​	说起富文本编辑器这个名字，可能对于一些同学来说是陌生的，因为在这个markdown流行的时代，富文本编辑器的作用已经没有那么重要了。不过对于使用过富文本编辑器的同学来说，我相信大部分的人都只是停留在工具使用的阶段，未曾想过去了解编辑器的实现原理，更不会想到自己亲自动手实现一个类似的富文本编辑器。

​	富文本编辑器，Rich Text Editor, 简称 RTE, 它提供类似于 Microsoft Word 的编辑功能，容易被不会编写 HTML 的用户并需要设置各种文本格式的用户所喜爱。它的应用也越来越广泛。在很多开发者看来，富文本编辑器的编写是一件很神秘或者复杂的事情。神秘倒没有，复杂的话，确实如此。但是它的基本原理并不复杂，入门也不难。---摘自百度百科

​	虽然说富文本编辑器的基本实现原理并不复杂，但是如果要做成一个大而全的项目，往往需要一个团队的共同协作来完成，比如百度的 UEditor，是一个非常棒的开源项目。如果是个人开发者，就算具有一定的功底，开发周期也是比较长的，其中优秀的开源项目有 wangEditor。

​	考虑到本训练营项目的主要目的是以教学为目的，且开发周期有限，所以我们将会实现一个简易版的富文本编辑器，同时借鉴并学习优秀开源项目的设计思想，但是简易并不等于简单。麻雀虽小，五脏俱全，通过本课程的学习，你将学到很多新的知识，同时希望可以给你带来创新的思路和灵感。

### 1.2 实验知识点 

+ Vue.js 基础与进阶
+ Vuex 全局状态管理
+ Webpack讲解
+ Selection/Range 了解与应用
+ 原生js代码的编写

### 1.3 实验环境

* LInux在线开发环境

+ Sublime文本编辑器
+ Xfce终端
+ Firefox浏览器

### 1.4 适合人群
​	本课程难度为一般，属于初、中级别课程，适合具有 HTML、Javacript、css 基础的用户，由于项目将使用Vue框架，所以如果你对它有过简单的了解更佳。

### 1.5 说明

​	因为我之前的课程，有同学反映讲的不够详细，所以，在本次课程中，为了对新手更加友好，文档部分内容可能会比较详细，一些看似简单的操作，我也尽量详细列出步骤并给出解释，如果你对那部分比较了解，可以选择性跳过。

### 1.6 项目展示 

![](http://labfile.oss.aliyuncs.com/courses/904/eb5b3a1e-6b2d-4853-acb9-5788505233b4.png)

![](http://labfile.oss.aliyuncs.com/courses/904/4acadcd2-b58c-4d43-8018-d238e7b99a5f.png)

此项目包含了大部分文本操作功能，包括字体，字号，前景色／背景色，图片，超链接等，基本满足日常需求。如果你愿意，学完本程程之后，你完全可以自己扩展功能。

## 二、项目搭建

### 2.1 vue-cli

​	为了帮助大家快速搭建Vue项目，vue官方推出了 [vue-cli](https://github.com/vuejs/vue-cli) 脚手架。有了它，搭建Vue项目就变得非常轻松了。其中包含了一系列实用的工具：模块化，转移，预处理，热加载，静态检测和自动化测试等。我们只需要专注自己的业务代码就可以，其他的都不用管。所以，项目搭建的第一步就是安装 vue-cli。(如果你对此部分已经了解，可跳过此段内容)。

​	这里我给大家一个建议，大家在查阅资料的时候，尽量首先去官方网站查阅文档，而不是先去查阅他人的博客，特别是查阅入门教程或者是安装教程之类的内容，官方支持一般来说是做的比较好的。当然，这只是一个习惯问题，实际过程中，对你来说怎么方便怎么来。

![](http://labfile.oss.aliyuncs.com/courses/904/415ddced-9044-4325-9b85-0761185634d7.png)

上图是npm官网给出的安装与使用示例。我们一步一步操作。

![](http://labfile.oss.aliyuncs.com/courses/904/b7994669-ab1d-4c60-ac92-5186c34ff86e.png)

打开实验楼终端界面，进入 `Code/` 目录，运行命令：

```sh
sudo npm install -g vue-cli		#可能存在权限问题，使用 sudo 执行
```

然后就是耐心的等待，由于需要安装的依赖较多，所以需要花费一点时间，可能 5 分钟左右(与网速有关)。

接下来就是初始化我们的项目，接着上面的步骤继续执行：

```sh
vue init webpack syl-editor		#名字可以随便取
```

![](http://labfile.oss.aliyuncs.com/courses/904/8c600a19-fd1f-4b7c-8b74-dd7e980931a4.png)

可以参考上图我的安装内容就行安装。

进入 `syl-editor/` 目录，执行命令：

```sh
npm install
```

开始安装项目依赖，可能花费一些时间，请耐心等待。

安装完成之后，继续执行命令：

```Sh
npm run dev
```

随后浏览器会自动开发页面，提示你项目成功运行：

![](http://labfile.oss.aliyuncs.com/courses/904/c1683639-3c9b-414e-8fb7-9570a5b820cb.png)

此时，使用环境中的 sublime 编辑器打开我们的项目：

![](http://labfile.oss.aliyuncs.com/courses/904/62537b68-b573-4617-bebf-3af229e1f427.png)

你的目录结构应该如下图所示：

![](http://labfile.oss.aliyuncs.com/courses/904/5b166d34-712a-4372-80ee-82880cb8a4ef.png)

至此，我们项目的基本框架已经搭建好了，并且可以顺利运行。

## 三、环境配置

​	作为一个纯前端的项目，我们主要的测试与调试环境是浏览器。平时大家一般都是使用chrome浏览器，我在写这个项目的过程中，也是基于最新版chrome来开发调试的。但是在我们的在线环境中，只有firefox浏览器。大家都知道，不同的浏览器之间，是存在一定的不兼容性的，并不是所有浏览器的行为都是表现一致。随着近年来浏览器的发展，大家都尽量向标准看齐，减少了一些兼容问题，前提是实用新版的现代浏览器(主要区别早期 IE 浏览器)。

​	在本项目的开发过程中，我们将会使用一些DOM属性或操作，如果浏览器版本较老，也许某些特性不支持，所以，为了尽量避免这种情况，我们需要将环境中的 firefox 浏览器升级至最新版。

打开终端，输入并执行命令：

```Sh
firefox -v		#Mozilla Firefox 48.0
```

最新版的Firefox的版本为：`Mozilla Firefox 54.0.1`，所以前往[官网](http://www.firefox.com.cn/)下载最新版并安装。

下载完成后，执行命令解压缩文件：

![ff](http://labfile.oss.aliyuncs.com/courses/904/47f0cf29-501b-436e-8130-737b8f89076b.png)

为了方便管理，将解压后的firefox文件夹包含子文件移至opt目录下，执行命令：

```sh
mv firefox /opt/
```

此时，环境中的firefox的快捷方式指向仍然是旧版的，所以需要做一些操作来替换旧版。

* 修改旧的快捷方式

  ```sh
  mv /usr/bin/firefox /usr/bin/firefox-old
  ```

* 建立新的快捷方式

  ```Sh
  ln -s /opt/firefox/firefox /usr/bin/firefox
  ```

上面的命令，如果遇到权限问题，请在命令前面加上 `sudo` 。此时，打开终端，再次查看firefox版本：

```Sh
firefox -v 		#Mozilla Firefox 54.0.1
```

## 四、 实验总结

​	本次实验为大家简单介绍了本次训练营项目的主要内容和将要完成的目标—富文本编辑器。随后带领大家完成了项目的初始化搭建，介绍了 vue-cli 的使用方法。然后将环境中的firefox版本升级至最新版，为后续实验做好开发调试准备，尽量避免兼容性带来的问题(推荐使用最新版chrome或firefox)。

​	从下一个实验开始，我们将逐渐对项目进行深入了解并动手编码实现。如果对这个实验有什么问题或者疑惑，欢迎在课程评论里发表和大家交流讨论。 